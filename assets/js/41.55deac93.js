(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{373:function(s,a,t){"use strict";t.r(a);var n=t(0),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"_1、docker-概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、docker-概念"}},[s._v("#")]),s._v(" 1、Docker 概念")]),s._v(" "),a("p",[s._v("Docker 是一个用于打包、部署和管理在容器中运行的应用程序的平台。容器是一种将资源（如内存、CPU、存储）与底层操作系统隔离开来的方法。每个容器都有自己的隔离环境，可以在其中执行代码，而不会干扰主机上的其他进程")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("Dockerfile")]),s._v("：是定义如何创建 Docker 镜像的文本文件。它们使用 "),a("code",[s._v("FROM")]),s._v("、"),a("code",[s._v("RUN")]),s._v("、"),a("code",[s._v("COPY")]),s._v(" 等命令逐步构建镜像。")]),s._v(" "),a("li",[a("strong",[s._v("Docker registry")]),s._v("：是一个用于存储和分发 Docker 镜像的存储库。")]),s._v(" "),a("li",[a("strong",[s._v("Docker 容器")]),s._v("：是 Docker 镜像在主机上运行的实例。它执行由镜像定义的应用程序，对来自系统其他部分的访问提供隔离。")]),s._v(" "),a("li",[a("strong",[s._v("Docker Compose")]),s._v("： 是一个用于定义和运行多容器应用程序的工具。它使用 YAML 文件来配置服务（容器）及其依赖项。")]),s._v(" "),a("li",[a("strong",[s._v("Docker 卷")]),s._v("：是一种用于在容器之间或与主机之间共享数据的存储机制。卷允许你即使在容器被销毁后仍保留数据，从而可以跨多个容器轻松共享数据。")]),s._v(" "),a("li",[a("strong",[s._v("Docker 群集模式")]),s._v("：允许你将多个 Docker 主机管理成一个集群。你可以在群集中的节点上部署服务，然后让 Docker 管理资源分配和容器位置。")]),s._v(" "),a("li",[a("strong",[s._v("Docker 网络")]),s._v("：是用于将容器彼此连接或连接到主机的一个隔离网络。它提供了在容器之间进行安全通信，而无需在主机上公开端口。")]),s._v(" "),a("li",[a("strong",[s._v("Docker Machine")]),s._v("： 允许你配置和管理 Docker 主机，无论它们是物理机、虚拟机（例如，在云中）还是在其他 Docker 容器内运行的容器。")]),s._v(" "),a("li",[a("strong",[s._v("Docker Hub")]),s._v("： 是一个在线存储库，允许将 Docker 镜像与他人共享。它是最大的公共注册表之一，但你也可以使用私有注册表来存储和分发你自己的镜像。")]),s._v(" "),a("li",[a("strong",[s._v("Docker Desktop")]),s._v("： 是一个应用程序，允许你在 Windows 或 macOS 上运行 Docker，它提供对 Docker CLI（命令行界面）和 GUI 工具的访问，以便管理镜像和容器。")])]),s._v(" "),a("h2",{attrs:{id:"_2、docker安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、docker安装"}},[s._v("#")]),s._v(" 2、Docker安装")]),s._v(" "),a("ul",[a("li",[s._v("Windows： 要在 Windows 上安装 Docker，请按照官方"),a("a",{attrs:{href:"https://docs.docker.com/desktop/install/windows-install/",target:"_blank",rel:"noopener noreferrer"}},[s._v("安装指南"),a("OutboundLink")],1),s._v("进行操作。")]),s._v(" "),a("li",[s._v("Mac： 对于 macOS，请参阅"),a("a",{attrs:{href:"https://docs.docker.com/desktop/install/mac-install/",target:"_blank",rel:"noopener noreferrer"}},[s._v("安装指南"),a("OutboundLink")],1),s._v("。")]),s._v(" "),a("li",[s._v("Linux： 对于 Linux，请查看"),a("a",{attrs:{href:"https://docs.docker.com/engine/install/",target:"_blank",rel:"noopener noreferrer"}},[s._v("针对具体发行版的说明"),a("OutboundLink")],1),s._v("。")])]),s._v(" "),a("h2",{attrs:{id:"_3、docker命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、docker命令"}},[s._v("#")]),s._v(" 3、Docker命令")]),s._v(" "),a("h3",{attrs:{id:"_3-1、容器环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1、容器环境"}},[s._v("#")]),s._v(" 3.1、容器环境")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 检查版本信息")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" version \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 检查更详细的docker环境信息")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" info\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"_3-2、容器生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2、容器生命周期"}},[s._v("#")]),s._v(" 3.2、容器生命周期")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建容器")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" create "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" my_nginx nginx:latest\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动容器")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" start my_nginx\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建+启动")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--name")]),s._v(" my_nginx nginx:latest\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止容器")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" stop my_nginx  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 优雅退出")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" my_nginx  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 暴力退出")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h3",{attrs:{id:"_3-3、容器运维"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3、容器运维"}},[s._v("#")]),s._v(" 3.3、容器运维")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看容器运行状态")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看容器详细信息")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" inspect my_nginx\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入容器内部操作")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-it")]),s._v(" my_nginx "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看容器内部进程")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" my_nginx\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看容器CPU以及内存占用情况")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" stats my_nginx\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改容器名")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rename")]),s._v(" my_nginx new_nginx\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看容器日志")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" logs "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" my_nginx\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看镜像历史操作")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v(" my_nginx:v1.0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h3",{attrs:{id:"_3-4、容器rootfs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4、容器rootfs"}},[s._v("#")]),s._v(" 3.4、容器rootfs")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拷贝宿主机文件到容器")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" text.txt my_nginx:/\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看容器做了那些修改")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" my_nginx\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将容器打包成镜像")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" commit "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test commit my nginx"')]),s._v(" my_nginx my_nginx:v1.0\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除镜像")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" rmi my_nginx:v1.0\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除所有none镜像")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" image prune\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h3",{attrs:{id:"_3-5、镜像仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5、镜像仓库"}},[s._v("#")]),s._v(" 3.5、镜像仓库")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 登录Docker Hub：")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" login\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检索镜像")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" search nginx\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 给镜像打tag")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" tag my_nginx:v1.0 test/nginx-test:v1.1\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 推送镜像")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" push test/nginx-test:v1.1\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拉取镜像")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull nginx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h3",{attrs:{id:"_3-6、本地镜像管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-6、本地镜像管理"}},[s._v("#")]),s._v(" 3.6、本地镜像管理")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 保存镜像为tar包")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" save my_nginx:v1.0 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" test.tar\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 构建镜像（假设Dockerfile在执行命令的目录）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" build "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" my_docker:v1.0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h2",{attrs:{id:"_4、dockerfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、dockerfile"}},[s._v("#")]),s._v(" 4、Dockerfile")]),s._v(" "),a("h3",{attrs:{id:"_4-1、基础镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1、基础镜像"}},[s._v("#")]),s._v(" 4.1、基础镜像")]),s._v(" "),a("div",{staticClass:"language-Dockerfile line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 从基础镜像构建")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" nginx:latest")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 给镜像打标签")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LABEL")]),s._v(" author="),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"leong"')])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"_4-2、环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2、环境变量"}},[s._v("#")]),s._v(" 4.2、环境变量")]),s._v(" "),a("div",{staticClass:"language-Dockerfile line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 构建环境变量")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ARG")]),s._v(" port=80")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行时环境变量")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ENV")]),s._v(" port=80")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"_4-3、拷贝文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3、拷贝文件"}},[s._v("#")]),s._v(" 4.3、拷贝文件")]),s._v(" "),a("div",{staticClass:"language-Dockerfile line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拷贝")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COPY")]),s._v(" test.txt /")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拷贝并解压")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ADD")]),s._v(" test.tar /")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"_4-4、工作目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4、工作目录"}},[s._v("#")]),s._v(" 4.4、工作目录")]),s._v(" "),a("div",{staticClass:"language-Dockerfile line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定容器内某个目录为工作目录（run命令执行时所在的目录）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WORKDIR")]),s._v(" /work")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"_4-5、端口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-5、端口"}},[s._v("#")]),s._v(" 4.5、端口")]),s._v(" "),a("div",{staticClass:"language-Dockerfile line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 端口暴露")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXPOSE")]),s._v(" 90")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"_4-6、指令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-6、指令"}},[s._v("#")]),s._v(" 4.6、指令")]),s._v(" "),a("div",{staticClass:"language-Dockerfile line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在构建的时候执行的命令")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RUN")]),s._v(" ls")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 容器启动时执行的命令")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CMD")]),s._v(" [ "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bash"')]),s._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-c"')]),s._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"echo helloworld"')]),s._v(" ]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token instruction"}},[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ENTRYPOINT")]),s._v(" [ "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bash"')]),s._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-c"')]),s._v(","),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"echo helloworld"')]),s._v(" ]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[a("em",[s._v("PS")]),s._v("：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("CMD")]),s._v("：\n"),a("ul",[a("li",[s._v("后面的"),a("code",[s._v("CMD")]),s._v("会覆盖前面的"),a("code",[s._v("CMD")])]),s._v(" "),a("li",[a("code",[s._v("docker exec -it xxx bash [command]")]),s._v("也会覆盖掉"),a("code",[s._v("Dockerfile")]),s._v("里面的"),a("code",[s._v("CMD")])])])]),s._v(" "),a("li",[a("code",[s._v("ENTRYPOINT")]),s._v("：\n"),a("ul",[a("li",[a("code",[s._v("ENTRYPOINT")]),s._v("的命令不会被覆盖")])])])]),s._v(" "),a("h2",{attrs:{id:"_5、docker-compose"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、docker-compose"}},[s._v("#")]),s._v(" 5、Docker-Compose")]),s._v(" "),a("h3",{attrs:{id:"_5-1、quickstart"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1、quickstart"}},[s._v("#")]),s._v(" 5.1、Quickstart")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'3'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("services")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("nginx1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.14")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("container_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginx1\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" 8081"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("nginx2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# nginx1启动后才开始构建nginx2")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("depends_on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" nginx1\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 根据Dockerfile构建")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("context")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" .\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("container_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginx2\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" 8082"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("h2",{attrs:{id:"_6、docker快速部署环境案例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、docker快速部署环境案例"}},[s._v("#")]),s._v(" 6、Docker快速部署环境案例")]),s._v(" "),a("h3",{attrs:{id:"_6-1、mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-1、mysql"}},[s._v("#")]),s._v(" 6.1、MySQL")]),s._v(" "),a("p",[a("RouterLink",{attrs:{to:"/pages/7b03ae/"}},[s._v("Docker部署MySQL")])],1)])}),[],!1,null,null,null);a.default=e.exports}}]);